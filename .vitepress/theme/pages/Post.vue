<script setup lang="ts">
import { useData, useRoute } from "vitepress";
import { computed } from "vue";
import { data as posts } from "../posts.data.js";
import Date from "../components/Date.vue";

const { frontmatter: data } = useData();
const route = useRoute();

function findCurrentIndex() {
  return posts.findIndex((p) => p.url === route.path);
}

// use the customData date which contains pre-resolved date info
const date = computed(() => posts[findCurrentIndex()].date);
</script>

<template>
  <header>
    <h1 class="text-[#2bbc8a] text-2xl font-bold">
      {{ data.title }}
    </h1>
    <Date :date="date" />
  </header>
  <Content class="prose prose-green prose-invert max-w-none" />
</template>
